<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录界面</title>
    <link rel="stylesheet" type="text/css" href="css/Sytel.css" />
    <link rel="stylesheet" type="text/css" href="css/login.css" />
</head>
<script src="${pageContext.request.contextPath}/js/jquery-3.4.1.js"></script>

<script>
    function login(){
        var uname = $("#uname").val();
        var pwd = $("#pwd").val();
        $.ajax({
            url:"${pageContext.request.contextPath}/user/login",
            data:{"uname":uname,"pwd":pwd},
            type:"post",
            success:function (res){
                if (res.toString() === "false1"){
                    alert("该用户不存在！") ;
                } else if (res.toString() === "false2"){
                    alert("账号或密码错误，请重新登录！");
                } else {
                    window.location.href="${pageContext.request.contextPath}/index.jsp";
                    alert("用户 "+uname+" 登陆成功!");
                }
            }
        })
    }
</script>
<body>

    <div class="header">
    </div>
    <div class="navigation">
       
        <div class="navigation--head">

            <div class="seckill-container">
                <div class="rg_layout">
                    <div class="rg_left">
                        <p>用户登录</p>
                        <p>USER LOGIN</p>
                    </div>
                    <div class="rg_center">
                        <div class="rg_form">
                            <form action="#" method="post">
                                <table>
                                    <tr><!--label 标签的作用是当点击文字也会跳到文本输出框-->
                                        <!--for属性与ID属性对应规定 label 绑定到哪个表单元素。-->
                                        <td class="td_left"><label for="username">用户名</label> </td>
                                        <td class="td_right"><input type="text" name="uname" id="username"> </td>
                                    </tr>
                                    <tr>
                                        <td class="td_left"><label for="password">密码</label> </td>
                                        <td class="td_right"><input type="password" name="pwd" id="password"> </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="td_left"><label for="checkcode">验证码</label> </td>
                                        <td class="td_right">
                                            <input type="text" name="username" id="checkcode">
                                            <img src="${pageContext.request.contextPath}/images/search.jsp" id="img_check">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td_left"></td>
                                        <td class="td_right">
                                        <label>
                                            <input type="checkbox" >自动登录
                                        </label>&emsp;&emsp; 
                                        <label>
                                            <input type="checkbox" name="savename" value="ok">记住用户名
                                        </label>
                                        </td>
                                    </tr>
                                    <tr>
                                        
                                        <td colspan="2" align="center">
                                            <input type="submit" value="登录" id="btn_sub" onclick="login()">
                                        </td>
                                    </tr>
            
                                </table>
                            </form>
                        </div>
                    </div>
                    <div class="rg_right">
                        <p>没有账号？<a href="${pageContext.request.contextPath}/user/toRegister">立即注册</a></p>
                    </div>
                </div>
                                    
            </div>
        </div>
    </div>
            
            
</div>
         
       
</body>
</html>